!function(){"use strict";"serviceWorker"in navigator?(window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js",{scope:"/"}).then(e=>{console.log("[SW Register] Service Worker registered:",e),setInterval(()=>{e.update()},6e4),e.addEventListener("updatefound",()=>{const o=e.installing;console.log("[SW Register] New Service Worker found"),o.addEventListener("statechange",()=>{"installed"===o.state&&navigator.serviceWorker.controller&&(console.log("[SW Register] New Service Worker ready"),confirm("A new version of BOB Home Care is available. Reload to update?")&&(o.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(e=>{console.error("[SW Register] Service Worker registration failed:",e)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("[SW Register] Service Worker controller changed")})}),window.addEventListener("offline",()=>{console.log("[SW Register] Application is offline")}),window.addEventListener("online",()=>{console.log("[SW Register] Application is online")}),console.log("[SW Register] Service Worker registration script loaded")):console.log("Service Workers not supported")}();