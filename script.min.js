let currentLang="ar";const translations={ar:{home:"الرئيسية",about:"من نحن",services:"خدماتنا",blog:"المدونة",testimonials:"آراء العملاء",contact:"اتصل بنا",bookNow:"احجز الآن",heroTitle:"خدمات التنظيف المنزلي بمعايير الضيافة العالمية",heroSubtitle:"من فريق Best of Bedz المتخصص في الضيافة، نقدم خدمات تنظيف بجودة الفنادق الفاخرة",ctaButton:"احصل على عرض سعر مجاني",aboutTitle:"من نحن",servicesTitle:"خدماتنا المتخصصة",galleryTitle:"شاهد التحولات المذهلة",gallerySubtitle:"من الفوضى إلى الفخامة - معايير الضيافة العالمية",blogTitle:"مدونة BOB Home Care",blogSubtitle:"نصائح وإرشادات احترافية للعناية المنزلية",testimonialsTitle:"آراء عملائنا من Airbnb",contactTitle:"تواصل معنا",bookingTitle:"احجز خدمتك الآن"},en:{home:"Home",about:"About",services:"Services",blog:"Blog",testimonials:"Reviews",contact:"Contact",bookNow:"Book Now",heroTitle:"Home Cleaning Services with International Hospitality Standards",heroSubtitle:"From the Best of Bedz hospitality team, we provide luxury hotel-quality cleaning services",ctaButton:"Get Free Quote",aboutTitle:"About Us",servicesTitle:"Our Specialized Services",galleryTitle:"See Amazing Transformations",gallerySubtitle:"From Chaos to Luxury - International Hospitality Standards",blogTitle:"BOB Home Care Blog",blogSubtitle:"Professional tips and guidance for home care",testimonialsTitle:"Our Airbnb Client Reviews",contactTitle:"Contact Us",bookingTitle:"Book Your Service Now"}};function toggleLanguage(){currentLang="ar"===currentLang?"en":"ar",document.documentElement.lang=currentLang,document.documentElement.dir="ar"===currentLang?"rtl":"ltr",document.body.dir="ar"===currentLang?"rtl":"ltr",document.body.className="ar"===currentLang?"rtl":"ltr";document.querySelectorAll(".nav-btn, .book-btn").forEach(e=>{const t=e.getAttribute("data-"+currentLang);t&&(e.textContent=t)}),updateContent();document.getElementById("langToggle").textContent="ar"===currentLang?"EN":"AR",applyDirectionStyles()}function applyDirectionStyles(){const e=document.getElementById("direction-styles")||document.createElement("style");e.id="direction-styles",e.textContent="en"===currentLang?"\n            body.ltr {\n                direction: ltr;\n                text-align: left;\n            }\n            body.ltr .header-container {\n                flex-direction: row;\n            }\n            body.ltr .hero-content {\n                grid-template-columns: 1fr 1fr;\n            }\n            body.ltr .hero-text {\n                text-align: left;\n            }\n            body.ltr .nav-buttons {\n                order: 2;\n            }\n            body.ltr .header-right {\n                order: 1;\n                flex-direction: row-reverse;\n            }\n        ":"\n            body.rtl {\n                direction: rtl;\n                text-align: right;\n            }\n            body.rtl .header-container {\n                flex-direction: row;\n            }\n            body.rtl .hero-content {\n                grid-template-columns: 1fr 1fr;\n            }\n            body.rtl .hero-text {\n                text-align: right;\n            }\n            body.rtl .nav-buttons {\n                order: 1;\n            }\n            body.rtl .header-right {\n                order: 2;\n                flex-direction: row;\n            }\n        ",document.getElementById("direction-styles")||document.head.appendChild(e)}function updateContent(){const e=translations[currentLang],t=document.querySelector(".hero-text h2"),n=document.querySelector(".hero-text p"),o=document.querySelector(".cta-button");t&&(t.textContent=e.heroTitle),n&&(n.textContent=e.heroSubtitle),o&&(o.textContent=e.ctaButton);const i=document.querySelector(".about h2"),l=document.querySelector(".services h2"),r=document.querySelector(".gallery h2"),a=document.querySelector(".gallery > .container > p"),s=document.querySelector(".blog h2"),c=document.querySelector(".blog > .container > p"),d=document.querySelector(".testimonials h2"),u=document.querySelector(".contact h2"),m=document.querySelector(".booking-section h2");i&&(i.textContent=e.aboutTitle),l&&(l.textContent=e.servicesTitle),r&&(r.textContent=e.galleryTitle),a&&(a.textContent=e.gallerySubtitle),s&&(s.textContent=e.blogTitle),c&&(c.textContent=e.blogSubtitle),d&&(d.textContent=e.testimonialsTitle),u&&(u.textContent=e.contactTitle),m&&(m.textContent=e.bookingTitle)}function initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),n=document.querySelector(t);n&&n.scrollIntoView({behavior:"smooth",block:"start"})})})}function initFormSubmission(){const e=document.querySelector("form");if(e){const t=e.querySelector('input[name="name"]'),n=e.querySelector('input[name="phone"]'),o=e.querySelector('input[name="email"]'),i=e.querySelector('select[name="service"]'),l=e.querySelector('input[name="date"]'),r=e.querySelector('select[name="time"]'),a=e.querySelector('input[name="address"]'),s=e.querySelector('textarea[name="notes"]');e.addEventListener("submit",function(e){e.preventDefault(),console.log("=== FORM SUBMISSION STARTED ===");const c=t.value.trim(),d=n.value.trim(),u=o.value.trim(),m=i.value||i.options[i.selectedIndex].value,g=l.value,y=r.value||r.options[r.selectedIndex].value,h=a.value.trim(),v=s.value.trim();console.log("Form Data:"),console.log("- Name:",c,"| Empty:",!c),console.log("- Phone:",d,"| Empty:",!d),console.log("- Email:",u),console.log("- Service:",m,"| Empty:",!m),console.log("- Date:",g,"| Empty:",!g),console.log("- Time:",y,"| Empty:",!y),console.log("- Address:",h,"| Empty:",!h),console.log("- Notes:",v);const f=[];if(c||f.push("name"),d||f.push("phone"),m||f.push("service"),g||f.push("date"),y||f.push("time"),h||f.push("address"),f.length>0)return console.error("Missing fields:",f),void alert("ar"===currentLang?`يرجى ملء جميع الحقول المطلوبة: ${f.join(", ")}`:`Please fill all required fields: ${f.join(", ")}`);const p={airbnb:"ar"===currentLang?"تنظيف شقق Airbnb":"Airbnb Cleaning",regular:"ar"===currentLang?"التنظيف الدوري":"Regular Cleaning",deep:"ar"===currentLang?"التنظيف العميق":"Deep Cleaning",moving:"ar"===currentLang?"تنظيف الانتقال":"Moving Cleaning",sterilization:"ar"===currentLang?"التبخير والتعقيم":"Sterilization",furniture:"ar"===currentLang?"تنظيف المفروشات":"Furniture Cleaning"},b={morning:"ar"===currentLang?"صباحاً (9-12)":"Morning (9-12)",afternoon:"ar"===currentLang?"بعد الظهر (12-5)":"Afternoon (12-5)",evening:"ar"===currentLang?"مساءً (5-8)":"Evening (5-8)"},L=new Date(g).toLocaleDateString("ar-EG"),E="ar"===currentLang?`مرحباً! أود حجز خدمة من BOB Home Care\n\nالاسم: ${c}\nالهاتف: ${d}\n${u?`البريد الإلكتروني: ${u}`:""}\nنوع الخدمة: ${p[m]||m}\nالتاريخ المفضل: ${L}\nالوقت المفضل: ${b[y]||y}\nالعنوان: ${h}\n${v?`ملاحظات: ${v}`:""}\n\nشكراً لكم!`:`Hello! I would like to book a service from BOB Home Care\n\nName: ${c}\nPhone: ${d}\n${u?`Email: ${u}`:""}\nService Type: ${p[m]||m}\nPreferred Date: ${g}\nPreferred Time: ${b[y]||y}\nAddress: ${h}\n${v?`Notes: ${v}`:""}\n\nThank you!`;console.log("=== WHATSAPP MESSAGE ==="),console.log(E);const S=`https://wa.me/201273518887?text=${encodeURIComponent(E)}`;console.log("=== WHATSAPP URL ==="),console.log(S),console.log("=== REDIRECTING TO WHATSAPP ==="),alert("ar"===currentLang?"تم إرسال طلب الحجز! سيتم توجيهك إلى WhatsApp الآن":"Booking request sent! You will be redirected to WhatsApp now"),window.location.href=S})}else console.error("Booking form not found!")}function initScrollAnimations(){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.animationPlayState="running",e.target.classList.add("animate-in"))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".service-card, .gallery-item, .blog-card, .testimonial-card").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(30px)",t.style.transition="all 0.6s ease-out",e.observe(t)})}function addScrollAnimationStyles(){const e=document.createElement("style");e.textContent="\n        .animate-in {\n            opacity: 1 !important;\n            transform: translateY(0) !important;\n        }\n        \n        .service-card:nth-child(odd) {\n            transition-delay: 0.1s;\n        }\n        \n        .service-card:nth-child(even) {\n            transition-delay: 0.2s;\n        }\n        \n        .gallery-item:nth-child(1) { transition-delay: 0.1s; }\n        .gallery-item:nth-child(2) { transition-delay: 0.2s; }\n        .gallery-item:nth-child(3) { transition-delay: 0.3s; }\n        \n        .blog-card:nth-child(1) { transition-delay: 0.1s; }\n        .blog-card:nth-child(2) { transition-delay: 0.2s; }\n        .blog-card:nth-child(3) { transition-delay: 0.3s; }\n        \n        .testimonial-card:nth-child(odd) {\n            transition-delay: 0.1s;\n        }\n        \n        .testimonial-card:nth-child(even) {\n            transition-delay: 0.2s;\n        }\n    ",document.head.appendChild(e)}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("langToggle");e&&e.addEventListener("click",toggleLanguage);const t=document.getElementById("langToggleMobile");t&&(t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),toggleLanguage(),console.log("Language toggle clicked")}),t.addEventListener("touchend",function(e){e.preventDefault(),e.stopPropagation(),toggleLanguage(),console.log("Language toggle touched")})),initSmoothScrolling(),initFormSubmission(),initScrollAnimations(),addScrollAnimationStyles(),initMobileMenu(),new ImageCarousel,initTestimonialsCarousel(),initDatePicker(),initLazyVideo(),document.body.style.opacity="0",document.body.style.transition="opacity 0.5s ease-in-out",setTimeout(()=>{document.body.style.opacity="1"},100)});class ImageCarousel{constructor(){this.track=document.getElementById("carouselTrack"),this.prevBtn=document.getElementById("prevBtn"),this.nextBtn=document.getElementById("nextBtn"),this.indicatorsContainer=document.getElementById("carouselIndicators"),this.track&&(this.slides=Array.from(this.track.querySelectorAll(".carousel-slide")),this.currentIndex=0,this.slideCount=this.slides.length,this.init())}init(){this.createIndicators(),this.prevBtn&&this.prevBtn.addEventListener("click",()=>this.prevSlide()),this.nextBtn&&this.nextBtn.addEventListener("click",()=>this.nextSlide()),document.addEventListener("keydown",e=>{"ArrowLeft"===e.key&&this.prevSlide(),"ArrowRight"===e.key&&this.nextSlide()});let e=0;this.track.addEventListener("touchstart",t=>{e=t.touches[0].clientX}),this.track.addEventListener("touchend",t=>{const n=t.changedTouches[0].clientX;e-n>50&&this.nextSlide(),n-e>50&&this.prevSlide()}),this.autoPlay()}createIndicators(){if(this.indicatorsContainer)for(let e=0;e<this.slideCount;e++){const t=document.createElement("button");t.className="indicator"+(0===e?" active":""),t.setAttribute("aria-label",`Go to slide ${e+1}`),t.addEventListener("click",()=>this.goToSlide(e)),this.indicatorsContainer.appendChild(t)}}updateIndicators(){if(!this.indicatorsContainer)return;this.indicatorsContainer.querySelectorAll(".indicator").forEach((e,t)=>{e.classList.toggle("active",t===this.currentIndex)})}updateCarousel(){const e=100*-this.currentIndex;this.track.style.transform=`translateX(${e}%)`,this.updateIndicators()}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.slideCount,this.updateCarousel(),this.resetAutoPlay()}prevSlide(){this.currentIndex=(this.currentIndex-1+this.slideCount)%this.slideCount,this.updateCarousel(),this.resetAutoPlay()}goToSlide(e){this.currentIndex=e,this.updateCarousel(),this.resetAutoPlay()}autoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},5e3)}resetAutoPlay(){clearInterval(this.autoPlayInterval),this.autoPlay()}}function initTestimonialsCarousel(){const e=document.getElementById("testimonialsTrack"),t=document.querySelector(".testimonials-carousel"),n=document.getElementById("testimonialsIndicators"),o=document.querySelector(".testimonial-carousel-btn.prev"),i=document.querySelector(".testimonial-carousel-btn.next");if(!e)return;const l=e.querySelectorAll(".testimonial-card"),r=l.length;let a,s=0,c=0,d=0;function u(){return window.innerWidth<=768}for(let e=0;e<r;e++){const t=document.createElement("button");t.className="testimonial-indicator "+(0===e?"active":""),t.setAttribute("aria-label",`Review ${e+1}`),t.addEventListener("click",()=>h(e)),n.appendChild(t)}function m(){if(u()&&t){const e=l[s];if(e){const n=e.offsetLeft-t.offsetLeft;t.scrollTo({left:n,behavior:"smooth"})}}else{const t=100*-s;e.style.transform=`translateX(${t}%)`}document.querySelectorAll(".testimonial-indicator").forEach((e,t)=>{e.classList.toggle("active",t===s)})}function g(){s=(s+1)%r,m(),f()}function y(){s=(s-1+r)%r,m(),f()}function h(e){s=e,m(),f()}function v(){a=setInterval(g,5e3)}function f(){clearInterval(a),v()}i&&i.addEventListener("click",g),o&&o.addEventListener("click",y),document.addEventListener("keydown",e=>{"ArrowRight"===e.key&&g(),"ArrowLeft"===e.key&&y()});let p=!1;if(e.addEventListener("touchstart",e=>{c=e.changedTouches[0].screenX,p=!0,clearInterval(a)},{passive:!0}),e.addEventListener("touchmove",e=>{},{passive:!0}),e.addEventListener("touchend",e=>{d=e.changedTouches[0].screenX,p=!1,function(){const e=50,t=c-d;Math.abs(t)>e&&(t>0?g():y())}(),v()},{passive:!0}),t){let e;t.addEventListener("scroll",()=>{u()&&(clearTimeout(e),e=setTimeout(()=>{const e=t.scrollLeft;let n=0,o=1/0;l.forEach((i,l)=>{const r=i.offsetLeft-t.offsetLeft,a=Math.abs(e-r);a<o&&(o=a,n=l)}),n!==s&&(s=n,document.querySelectorAll(".testimonial-indicator").forEach((e,t)=>{e.classList.toggle("active",t===s)}))},100))},{passive:!0})}v(),e.addEventListener("mouseenter",()=>clearInterval(a)),e.addEventListener("mouseleave",v);let b=0,L=0,E=!1;function S(){const e=b-L;Math.abs(e)>50&&(e>0?g():y())}e.addEventListener("mousedown",t=>{E=!0,b=t.clientX,e.style.cursor="grabbing",clearInterval(a),t.preventDefault()}),e.addEventListener("mousemove",e=>{E&&e.preventDefault()}),e.addEventListener("mouseup",t=>{E&&(E=!1,L=t.clientX,e.style.cursor="grab",S(),v())}),e.addEventListener("mouseleave",t=>{E&&(E=!1,L=t.clientX,e.style.cursor="grab",S(),v())}),e.style.cursor="grab"}function initDatePicker(){const e=document.getElementById("bookingDate");if(!e)return;const t=new Date,n=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;e.setAttribute("min",n);const o=new Date(t);o.setDate(o.getDate()+90);const i=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`;e.setAttribute("max",i);const l=e.parentElement.querySelector(".date-placeholder");function r(){e.value?(e.classList.add("has-value"),l&&(l.style.display="none")):(e.classList.remove("has-value"),l&&(l.style.display="block"))}r(),e.addEventListener("change",function(){if(r(),this.value){const e=new Date(this.value).getTime(),t=new Date(n).getTime(),o=new Date(i).getTime();(e<t||e>o)&&(this.value="",r(),alert("يرجى اختيار تاريخ صحيح"))}}),e.addEventListener("focus",function(){l&&(l.style.opacity="0.5")}),e.addEventListener("blur",function(){r(),l&&!this.value&&(l.style.opacity="1")})}function initLazyVideo(){const e=document.getElementById("videoPlayBtn"),t=document.getElementById("youtubeIframe"),n=document.querySelector(".video-thumbnail"),o=document.getElementById("lazyVideoWrapper");function i(){t.src="https://www.youtube.com/embed/4ulJE0capWc?autoplay=1&modestbranding=1&rel=0",t.style.display="block",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",n.style.display="none",e.style.display="none",o&&o.classList.add("loaded")}e&&t&&(e.addEventListener("click",i),n.addEventListener("click",i))}function initGalleryLightbox(){const e=document.querySelectorAll(".gallery-item"),t=document.getElementById("lightboxModal"),n=document.getElementById("lightboxImage"),o=document.querySelector(".lightbox-close"),i=document.querySelector(".lightbox-prev"),l=document.querySelector(".lightbox-next"),r=document.getElementById("currentImageNum"),a=document.getElementById("totalImages");if(!t||0===e.length)return;let s=0;const c=Array.from(e).map(e=>({src:e.dataset.image,alt:e.dataset.alt}));function d(){n.src=c[s].src,n.alt=c[s].alt,r.textContent=s+1,t.classList.add("active"),document.body.style.overflow="hidden"}function u(){t.classList.remove("active"),document.body.style.overflow="auto"}function m(){s=(s-1+c.length)%c.length,d()}function g(){s=(s+1)%c.length,d()}a&&(a.textContent=c.length),e.forEach((e,t)=>{e.addEventListener("click",()=>{s=t,d()})}),o.addEventListener("click",u),i.addEventListener("click",m),l.addEventListener("click",g),t.addEventListener("click",e=>{e.target===t&&u()}),document.addEventListener("keydown",e=>{t.classList.contains("active")&&("ArrowLeft"===e.key&&m(),"ArrowRight"===e.key&&g(),"Escape"===e.key&&u())});let y=0,h=0;t.addEventListener("touchstart",e=>{y=e.changedTouches[0].screenX}),t.addEventListener("touchend",e=>{h=e.changedTouches[0].screenX,function(){const e=50,t=y-h;Math.abs(t)>e&&(t>0?g():m())}()})}function toggleMenu(){const e=document.getElementById("menu"),t=document.getElementById("overlay"),n=document.getElementById("mobileMenuBtn");if(e&&t&&n){const o=e.classList.contains("active");e.classList.toggle("active"),t.classList.toggle("active"),n.classList.toggle("active"),o?document.body.classList.remove("menu-open"):document.body.classList.add("menu-open")}}function closeMenu(){const e=document.getElementById("menu"),t=document.getElementById("overlay"),n=document.getElementById("mobileMenuBtn");e&&t&&n&&(e.classList.remove("active"),t.classList.remove("active"),n.classList.remove("active"),document.body.classList.remove("menu-open"))}function initMobileMenu(){const e=document.getElementById("mobileMenuBtn"),t=document.getElementById("overlay"),n=document.querySelectorAll("#menu a");e&&e.addEventListener("click",toggleMenu),t&&t.addEventListener("click",closeMenu),n.forEach(e=>{e.addEventListener("click",closeMenu)}),console.log("✓ Mobile menu initialized")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initGalleryLightbox):initGalleryLightbox(),document.addEventListener("keydown",function(e){"Escape"===e.key&&closeMenu()}),function(){"use strict";const e=document.getElementById("mobileMenuToggle"),t=document.getElementById("mobileMenuPanel"),n=document.getElementById("mobileMenuClose"),o=document.getElementById("mobileMenuOverlay"),i=document.querySelectorAll(".mobile-nav-link");function l(){t.classList.remove("open"),o.classList.remove("open"),e.classList.remove("active"),document.body.style.overflow=""}e&&t&&n&&o?(e.addEventListener("click",function(){t.classList.contains("open")?l():(t.classList.add("open"),o.classList.add("open"),e.classList.add("active"),document.body.style.overflow="hidden")}),n.addEventListener("click",l),o.addEventListener("click",l),i.forEach(e=>{e.addEventListener("click",l)}),document.addEventListener("keydown",e=>{"Escape"===e.key&&l()}),console.log("✓ BULLETPROOF RTL Mobile menu initialized successfully")):console.error("Mobile menu elements not found")}(),function(){const e=document.getElementById("menuBtn"),t=document.getElementById("closeBtn"),n=document.getElementById("mobileMenu"),o=document.getElementById("menuOverlay");if(!(e&&t&&n&&o))return;function i(){window.innerWidth<=768?(e.style.display="flex",e.style.flexDirection="column",e.style.gap="5px"):(e.style.display="none",n.style.right="-100%",o.style.display="none",document.body.classList.remove("menu-open"))}function l(){n.style.right="-100%",o.style.display="none",document.body.classList.remove("menu-open")}i(),window.addEventListener("resize",i),e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),n.style.right="0",o.style.display="block",document.body.classList.add("menu-open")}),t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),l()}),t.addEventListener("touchend",function(e){e.preventDefault(),e.stopPropagation(),l()}),o.addEventListener("click",function(){l()}),document.querySelectorAll("#mobileMenu a").forEach(e=>{e.addEventListener("click",function(){l()})}),document.addEventListener("keydown",function(e){"Escape"===e.key&&l()});const r=document.getElementById("langToggleMobile");r&&(r.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof toggleLanguage&&toggleLanguage()}),r.style.pointerEvents="auto")}();